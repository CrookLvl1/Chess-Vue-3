import{d as V,f as w,r as p,o as I,g as h,a as e,H as G,u as n,t as r,l as g,q as k,m as H,p as S,k as i,v as M,K as Y,F as j,E as P,C as T,D as K}from"./index-fdab419b.js";import{u as Q,_ as O}from"./_plugin-vue_export-helper-f2631dae.js";import{a as X,u as Z}from"./paths-1b58ad80.js";const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR4nO3du2oUYRiH8QdBVFAQtBfRG1DQ0gMYdWaNh414qjSF8RK8AAstvAFLLdVGW3stVLCwEEwghYoH0MrEaBIZnIUQZmfn8M7s6zf/Hyxpli/fzpNvdmbY7ICIiIiM20HgLvAG+AYsAvPAE+A6sHXcE+yK3cBTYHXE4zMwM+7Jhu4w8LVAjLWP+8CmcU88RMeBhZIxBo8H4558aLYD3yvGGDyS9xVxskIG7ynbLCckcLJmlKvaiL6iPGpgPp0wCbwH3gJHDKO8G8Nr+e+dB5bWbMTZIc+rEuVHy68luBirwIec55eNkjeWFIixDFwhX5koL0aMJampjBgrwA1sD4lvFRyv06aGrIzpkuOMWilJ4H0NvYZg9GuujDIr5bHx3IMzZbQyiqyUL8Auo3l3ZmUsG8TIipL8PGQ0bpD6xrupvN1Xct5xynjcoPQbXhlZV4ml5RgX0sssr4H9NcfqjH5DMabTcQZjPjeab9D6LcVYTT/wIDnOtRjjNxDXHDdo/YaOpq5lxPgDXDaad5B66eekFMOBnmL40VMMP3qK4UdPMbob45LRvIPUUww/YsXwI1aMbsZYSi+/yBCK4UisleFHrBh+xIrhR6wYfkSK4UekGN2NcdZo3kGKFMOPSDH8iBTDj0gx/IgUw49IMXzFWGjp0PaXDm0V47+hleFI1v/erWg3pRid1/bKONP5LZ5DMRxRDEcUwxHFcEQxHFEMRxTDEcXocIzTRvMO0gnF8EMxHFEMRxTDEcVwRDEcUQxHFMORrC8F1knfmCiGI0czVkZTX4u3qK/Fy7chvVulYjhxoMX3jEmjOQftZsYuJbmiW5V2UzU9y7jNQtW/Zq2MmjYDP4fc+6JsFMUwOtQddneYMlEUw8idEUGKRFEMQ68KBMmLohiGdmQcmpaJohjGLpaIsT6KYjTgXoUgg/OU9Stroea5iwBzFYNYnbPIGnsNY+gGWAZmDGLMp1eJxcDDCgGSu8m8BG4Dx4CNFhORfz4VCLCcnqckJ48TwBZtvObMDokwlx59JbeF29ng75d1JtIoH9PdV/KeskdbSUREBNf+AqTUW8M66jE5AAAAAElFTkSuQmCC",A=b=>(T("data-v-c1b687d0"),b=b(),K(),b),z={class:"settings-wrapper"},J={class:"settings"},W={class:"setting setting-avatar"},q={for:"file"},$=["src"],ee=A(()=>e("div",{class:"edit-img-wrapper"},[e("img",{class:"edit-img",src:C,alt:""})],-1)),te={class:"preview-img-hint"},se={class:"setting"},le={class:"current-name-wrapper"},oe={class:"current-name"},ae={class:"current-name-wrapper"},ne=["placeholder"],ie={class:"setting"},ue={class:"setting-title"},re={class:"borders"},ce={class:"setting"},de={class:"setting-title"},pe=["selected","value"],ve={class:"setting"},me={class:"setting-title"},ge={class:"volume-input-wrapper"},be=A(()=>e("div",{class:"icon icon-play"},null,-1)),Ae={class:"exit-buttons"},_e=A(()=>e("div",{class:"icon icon-cancel"},null,-1)),ye=A(()=>e("div",{class:"icon icon-apply"},null,-1)),fe=V({__name:"settingsComponent",emits:["close"],setup(b,{emit:D}){const a=w(()=>Q()),c=w(()=>a.value.getStrings),_=new Audio(X().getPaths[0]);_.preload="auto";const U=()=>{_.volume=o.value,_.play()};let y=w(()=>a.value.getUser),v=p(a.value.getLangId),o=p(a.value.getVolume),m=p(y.value.name),f=p(y.value.imgSrc||Z().guestImgHref),l=p(y.value.borderColor);const E=d=>{const s=d.target.files[0];if(Math.round(s.size/1024)>4096)return;const t=new FileReader;t.readAsDataURL(s),t.onloadend=N=>{const R=N.target.result;f.value=R}},B=()=>{(async()=>{u.value=!1})().then(()=>{var d;return(d=x.value)==null?void 0:d.focus()})},L=()=>{a.value.setLangId(v.value),a.value.setVolume(o.value),a.value.setUserImg(new URL(f.value).href),a.value.setUserName(m.value),a.value.setBorder(l.value),a.value.saveToLocal()};let u=p(!0);const F=d=>{const t=+d.target.value;t||(o.value=.25),t<0?o.value=0:t>1&&(o.value=1)},x=p();return(d,s)=>(I(),h("div",z,[e("ul",J,[e("li",W,[e("div",{class:"preview",style:G(`border-color:${n(l)}`)},[e("input",{name:"file",type:"file",id:"file",onChange:E,accept:"image/png, image/jpeg, image/gif"},null,32),e("label",q,[e("img",{class:"preview-img",alt:"",src:n(f)},null,8,$),ee])],4),e("span",te,r(c.value.warnImgSize),1)]),e("li",se,[g(e("div",le,[e("div",oe,r(n(m)),1),e("img",{src:C,alt:"",class:"edit-name-img",onClick:B})],512),[[k,n(u)]]),g(e("div",ae,[g(e("input",{ref_key:"editNameInput",ref:x,onKeypress:s[0]||(s[0]=H(S(t=>i(u)?u.value=!0:u=!0,["prevent"]),["enter"])),class:"edit-name-input",maxlength:"25",placeholder:c.value.yourName,type:"text",name:"playerName","onUpdate:modelValue":s[1]||(s[1]=t=>i(m)?m.value=t:m=t),id:"playerName"},null,40,ne),[[k,!n(u)],[M,n(m)]]),e("button",{class:"icon icon-apply setting-icon-apply",onClick:s[2]||(s[2]=t=>i(u)?u.value=!0:u=!0)})],512),[[k,!n(u)]])]),e("li",ie,[e("h5",ue,r(c.value.yourBorder)+":",1),e("ul",re,[e("li",{onClick:s[3]||(s[3]=t=>i(l)?l.value="black":l="black"),style:{"background-color":"black"},class:"borders-color"}),e("li",{onClick:s[4]||(s[4]=t=>i(l)?l.value="red":l="red"),style:{"background-color":"red"},class:"borders-color"}),e("li",{onClick:s[5]||(s[5]=t=>i(l)?l.value="green":l="green"),style:{"background-color":"green"},class:"borders-color"}),e("li",{onClick:s[6]||(s[6]=t=>i(l)?l.value="orange":l="orange"),style:{"background-color":"orange"},class:"borders-color"}),e("li",{onClick:s[7]||(s[7]=t=>i(l)?l.value="blue":l="blue"),style:{"background-color":"blue"},class:"borders-color"})])]),e("li",ce,[e("h5",de,r(c.value.language)+":",1),g(e("select",{"onUpdate:modelValue":s[8]||(s[8]=t=>i(v)?v.value=t:v=t),name:"language",id:"language"},[(I(!0),h(j,null,P(a.value.getIds,t=>(I(),h("option",{selected:t===n(v),value:t,key:t},r(t),9,pe))),128))],512),[[Y,n(v)]])]),e("li",ve,[e("h5",me,r(c.value.volume)+":",1),e("div",ge,[g(e("input",{onFocusout:F,inputmode:"numeric",min:"0",max:"1",class:"current-volume",step:"0.01","onUpdate:modelValue":s[9]||(s[9]=t=>i(o)?o.value=t:o=t)},null,544),[[M,n(o)]]),g(e("input",{"onUpdate:modelValue":s[10]||(s[10]=t=>i(o)?o.value=t:o=t),min:"0",max:"1",step:"0.01",type:"range",name:"volume",id:"volume"},null,512),[[M,n(o)]])]),e("button",{onClick:U,class:"classic-button classic-button-small test-button"},[e("span",null,r(c.value.test),1),be])])]),e("div",Ae,[e("button",{class:"classic-button exit-button close",onClick:s[11]||(s[11]=t=>D("close"))},[e("span",null,r(c.value.close),1),_e]),e("button",{class:"classic-button exit-button apply",onClick:L},[e("span",null,r(c.value.apply),1),ye])])]))}});const ke=O(fe,[["__scopeId","data-v-c1b687d0"]]);export{ke as default};
